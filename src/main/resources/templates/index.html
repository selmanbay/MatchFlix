<!DOCTYPE html>
<html lang="tr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>MatchFlix</title>
    <link rel="stylesheet" href="style.css">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<header>
    <h2 class="logo">MatchFlix</h2>
    <div class="header-buttons">
        <button class="btn btn-primary me-2" data-bs-toggle="modal" data-bs-target="#registerModal">Kayƒ±t Ol</button>
        <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#loginModal">Giri≈ü</button>
    </div>
</header>

<!-- Yƒ±ldƒ±z arka planƒ± -->
<canvas id="stars"></canvas>

<div class="container mt-4">
    <!-- Form -->
    <form th:action="@{/save}" method="post" id="movieForm">
        <div class="autocomplete mb-3">
            <input type="text" id="movieInput" name="title" placeholder="Film adƒ±" autocomplete="off" class="form-control" required>
            <ul id="suggestions" class="list-group"></ul>
        </div>
        <button type="button" id="addButton" class="btn btn-warning">+ Film Ekle</button>
        <button type="submit" class="btn btn-warning">Film Kaydet</button>
    </form>
</div>

<!-- Kategoriler -->
<div class="category-section mt-5">
    <div class="category-title h4">Aksiyon</div>
    <div class="carousel" id="carousel-aksiyon">
        <div class="film-card" style="background-image:url('https://image.tmdb.org/t/p/w500/qmDpIHrmpJINaRKAfWQfftjCdyi.jpg');">
            <div class="overlay">Inception</div>
        </div>
        <div class="film-card" style="background-image:url('https://image.tmdb.org/t/p/w500/fZPSd91yGE9fCcCe6OoQr6E3Bev.jpg');">
            <div class="overlay">John Wick</div>
        </div>
        <div class="film-card empty">+</div>
    </div>
</div>

<div class="category-section mt-5">
    <div class="category-title h4">Komedi</div>
    <div class="carousel" id="carousel-komedi">
        <div class="film-card" style="background-image:url('https://media.licdn.com/dms/image/v2/D4D03AQHjd9Sm1qMKIQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1666891474626?e=1756944000&v=beta&t=-0ifLUmEcBT17Ybug4fCd0XYpDGubnCGA7FCyBci0gA');">
            <div class="overlay">The Mask</div>
        </div>
        <div class="film-card" style="background-image:url('https://image.tmdb.org/t/p/w500/k6EOrckWFuz7I4z4wiRwz8zsj4H.jpg');">
            <div class="overlay">Hangover</div>
        </div>
        <div class="film-card empty">+</div>
    </div>
</div>

<!-- üîπ Register Modal -->
<div class="modal fade" id="registerModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-4">
            <h4 class="mb-3">Kayƒ±t Ol</h4>
            <form th:action="@{/users/add}" method="post" class="clean-form">
                <input type="text" name="username" class="custom-input" placeholder="Kullanƒ±cƒ± Adƒ±" required>
                <input type="email" name="email" class="custom-input" placeholder="Email" required>
                <input type="password" name="password" class="custom-input" placeholder="≈ûifre" required>
                <button type="submit" class="btn btn-primary w-100 mt-3">Kayƒ±t Ol</button>
            </form>
        </div>
    </div>
</div>

<!-- üîπ Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-4">
            <h4 class="mb-3">Giri≈ü Yap</h4>
            <form th:action="@{/users/login}" method="post" class="clean-form">
                <input type="email" name="email" class="custom-input" placeholder="Email" required>
                <input type="password" name="password" class="custom-input" placeholder="≈ûifre" required>
                <button type="submit" class="btn btn-success w-100 mt-3">Giri≈ü Yap</button>
            </form>
        </div>
    </div>
</div>

<script src="stars.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // + Film Ekle (√∂n tarafta kart olu≈üturur)
    document.getElementById('addButton').addEventListener('click', function() {
        const input = document.getElementById('movieInput');
        const title = input.value.trim();
        if(title) {
            const card = document.createElement('div');
            card.className = 'film-card';
            card.style.backgroundImage = "url('https://via.placeholder.com/200x300?text=" + encodeURIComponent(title) + "')";

            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            overlay.textContent = title;

            card.appendChild(overlay);

            document.getElementById('carousel-komedi').insertBefore(
                card,
                document.querySelector('#carousel-komedi .film-card.empty')
            );
            input.value = '';
        }
    });
</script>
</body>
</html>
